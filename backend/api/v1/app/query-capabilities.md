# App API List Query Capabilities

These apply to `GET` list endpoints. Use Spatie Query Builder query params:
- `filter[field]=value`
- `sort=field,-other_field`
- `include=relation1,relation2` (only where allowed)
- `fields[resource]=field1,field2` (only where allowed)
- `per_page=15&page=2`

| Endpoint | Controller | Allowed Filters | Allowed Sorts | Allowed Includes | Allowed Fields |
|---|---|---|---|---|---|
| `/api/v1/app/{company}/facility-management/assets` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Asset\AssetController@index` | ['id', 'name', 'facility_id', 'asset_type_id', 'created_at', 'status', 'warranty_status'] | ['id', 'created_at', 'purchase_price', 'warranty_status', 'warranty_expiration_at'] | - | - |
| `/api/v1/app/{company}/facility-management/assets/insurance/policies` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Asset\Insurance\InsurancePolicyController@index` | ['id', 'policy_number', 'start_date', 'end_date', 'owner_id'] | ['start_date', 'end_date', 'created_at', 'premium_pa', 'coverage_amount'] | ['assets'] | - |
| `/api/v1/app/{company}/facility-management/assets/insurance/providers` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Asset\Insurance\InsuranceProviderController@index` | ['name', 'insurance_company_name', 'contact_person'] | - | ['insurancePolicies'] | - |
| `/api/v1/app/{company}/facility-management/fleet/bookings` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Fleet\Booking\BookingController@index` | [ 'id', 'trip_id', 'user_id', 'pickup_city_id', 'status', 'pickup_at', 'luggage_size', 'has_luggage', 'trip.driver_id' ] | ['id', 'pickup_at', 'status'] | ['trip.vehicle', 'trip.driver', 'user'] | - |
| `/api/v1/app/{company}/facility-management/fleet/drivers` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Fleet\Driver\DriverController@index` | ['id', 'user.name', 'user.email', 'user.phone', 'facility_id', 'facility.name'] | ['id', 'name', 'experience'] | ['vehicles'] | - |
| `/api/v1/app/{company}/facility-management/fleet/trips` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Fleet\Trip\TripController@index` | [ 'id', 'departure.name', 'destination.name', 'vehicle_id', 'vehicle.license_plate', 'driver_id', 'driver.name', 'departure_city_id', 'destination_city_id', 'depart_at', 'arrive_at', 'status', 'stops.city_id' ] | ['id', 'depart_at', 'arrive_at', 'status'] | ['bookings','stops'] | - |
| `/api/v1/app/{company}/facility-management/fleet/trips/{trip}/stops` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Fleet\Trip\TripStopController@index` | ['city.name', 'city_id'] | - | - | - |
| `/api/v1/app/{company}/facility-management/fleet/vehicles` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Fleet\Vehicle\VehicleController@index` | [ 'id', 'license_plate', 'description', 'vehicle_type', 'ownership_type', 'vehicle_make_id', 'vehicle_category_id', 'facility_id', 'facility.name' ] | ['id', 'license_plate'] | ['drivers'] | - |
| `/api/v1/app/{company}/facility-management/power-management/power-sources/{powerSource}/activity-logs` | `App\Http\Controllers\Api\V1\App\FacilityManagement\PowerManagement\PowerSourceActivityLogController@index` | ['id', 'power_source_id', 'start_at', 'stop_at', 'power_generated' ] | ['id', 'power_source_id', 'start_at', 'stop_at', 'power_generated'] | - | ['id', 'power_source_id', 'start_at', 'stop_at', 'power_generated'] |
| `/api/v1/app/{company}/facility-management/power-management/power-sources` | `App\Http\Controllers\Api\V1\App\FacilityManagement\PowerManagement\PowerSourceController@index` | 'power_source_type_id', 'name', 'co2_per_kwh', 'max_generation_capacity', 'commissioned_at', 'asset_id', 'has_maintenance_contract', 'maintenance_contract_id', 'status', 'activity_status', 'created_at' | 'created_at', 'co2_per_kwh', 'max_generation_capacity', 'activity_status' | - | - |
| `/api/v1/app/{company}/facility-management/sensors/{sensor}/actions` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Sensor\SensorActionController@index` | ['action_trigger', 'action_to_take'] | - | - | - |
| `/api/v1/app/{company}/facility-management/sensors` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Sensor\SensorController@index` | ['asset_id', 'facility_id', 'facility_space_id', 'type', 'current_status'] | - | - | - |
| `/api/v1/app/{company}/facility-management/sensors/available-devices` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Sensor\SensorServerDeviceController` | ['facility_id'] | - | - | - |
| `/api/v1/app/{company}/facility-management/settings/utility-management/utilities` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Settings\UtilityManagement\UtilityController@index` | 'id', 'name', 'description', 'utility_type', 'stock_keeping_unit_id', 'is_regulated', 'default_price_per_unit', 'created_at' | 'id', 'name', 'description','utility_type', 'stock_keeping_unit_id','is_regulated', 'default_price_per_unit', 'created_at' | - | - |
| `/api/v1/app/{company}/facility-management/settings/utility-management/utilities/{utility}/prices` | `App\Http\Controllers\Api\V1\App\FacilityManagement\Settings\UtilityManagement\UtilityPriceController@index` | 'currency_id', 'price_per_unit', 'facility_id', 'created_at' | 'currency_id', 'price_per_unit', 'facility_id', 'created_at' | - | - |
| `/api/v1/app/{company}/facility-management/utility-management/meters` | `App\Http\Controllers\Api\V1\App\FacilityManagement\UtilityManagement\UtilityMeterController@index` | 'meter_number', 'meter_serial_number', 'name', 'utility_id', 'reading_unit', 'status', 'created_at' | 'meter_number', 'meter_serial_number', 'name', 'utility_id', 'reading_unit', 'status', 'created_at' | - | - |
| `/api/v1/app/{company}/facility-management/utility-management/meters/{meter}/readings` | `App\Http\Controllers\Api\V1\App\FacilityManagement\UtilityManagement\UtilityMeterReadingController@index` | 'current_reading', 'utility_meter_id', 'created_at' | 'current_reading', 'utility_meter_id', 'created_at' | - | - |
| `/api/v1/app/{company}/project-management/projects` | `App\Http\Controllers\Api\V1\App\ProjectManagement\ProjectController@index` | [ 'id','title', 'status', 'facility_id', 'total_budget', 'created_at', 'initiated_at', 'estimated_start_date', 'completed_at', 'estimated_end_date' ] | [ 'id', 'title', 'total_budget', 'created_at', 'initiated_at', 'estimated_start_date', 'completed_at', 'estimated_end_date' ] | [] | - |
| `/api/v1/app/{company}/project-management/projects/{project}/milestones` | `App\Http\Controllers\Api\V1\App\ProjectManagement\ProjectMilestoneController@index` | ['title', 'status'] | ['title', 'status', 'estimated_start_date', 'started_at', 'completed_at', 'created_at'] | ['projectTasks'] | - |
| `/api/v1/app/{company}/project-management/projects/{project}/milestones/{milestone}/tasks` | `App\Http\Controllers\Api\V1\App\ProjectManagement\ProjectTaskController@index` | ['title', 'status', 'priority', 'assigned_to_id', 'estimated_duration_in_days'] | ['title', 'status', 'estimated_start_date', 'started_at', 'completed_at', 'created_at'] | - | - |
| `/api/v1/app/{company}/project-management/projects/{project}/updates` | `App\Http\Controllers\Api\V1\App\ProjectManagement\ProjectUpdateController@index` | ['title', 'description'] | ['created_at', 'updated_at'] | - | - |
| `/api/v1/app/{company}/property-management/facilities/{facility}/blocks` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Facility\FacilityBlockController@index` | ['id', 'name', 'created_at'] | ['id', 'name', 'created_at'] | - | [ 'id', 'name', 'has_wings', 'leasable_space', 'common_space', 'landlord_space', 'allocated_leasable_space', 'allocated_common_space', 'allocated_landlord_space' ] |
| `/api/v1/app/{company}/property-management/facilities` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Facility\FacilityController@index` | ['id', 'name', 'landlord_id', 'landlord.name'] | ['id', 'name', 'created_at'] | ['landlord', 'facilityType', 'country', 'city']; [] | [ 'id','name', 'landlord_id', 'facility_type_id', 'description', 'common_space', 'leasable_space', 'landlord_space', 'total_space', 'space_unit', 'country_id', 'status', 'created_at', 'country_id', 'city_id', 'construction_date' ] |
| `/api/v1/app/{company}/property-management/facilities/{facility}/spaces` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Facility\FacilitySpacesController` | `status` (exact), `name` (exact), `space_type` (exact), `size` (exact) | `name`, `size`, `status`, `space_type`, `created_at` | - | - |
| `/api/v1/app/{company}/property-management/facilities/{facility}/meters` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Facility\FacilityUtilityMeterController@index` | 'meter_number', 'meter_serial_number', 'name', 'utility_id', 'reading_unit', 'status', 'created_at' | 'meter_number', 'meter_serial_number', 'name', 'utility_id', 'reading_unit', 'status', 'created_at' | - | - |
| `/api/v1/app/{company}/property-management/facilities/{facility}/utility-prices` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Facility\FacilityUtilityPriceController@index` | ['utility_id', 'currency_id', 'price_per_unit', 'created_at'] | ['utility_id', 'currency_id', 'price_per_unit', 'created_at'] | - | - |
| `/api/v1/app/{company}/property-management/facility-spaces/spaces` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Facility\Space\FacilitySpaceController@index` | ['id', 'name', 'space_type', 'size', 'status', 'created_at', 'facility_floor_id'] | ['id', 'name', 'size', 'status', 'created_at'] | - | [ 'id', 'name', 'space_type', 'size', 'status', 'created_at' ] |
| `/api/v1/app/{company}/property-management/finance/bills` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Finance\Bills\BillController@index` | [ 'id', 'invoice_number', 'tax_invoice_number', 'type', 'status', 'facility_id', 'expense_type_id', 'vendor_id' ] | ['id', 'invoice_number', 'invoice_date'] | ['items'] | - |
| `/api/v1/app/{company}/property-management/finance/expenses` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Finance\Expenses\ExpenseController@index` | ['id', 'invoice_number', 'notes', 'facility_id', 'vendor_id', 'created_at', 'transaction_at'] | ['id', 'transaction_at', 'amount', 'created_at'] | ['taxType', 'invoiceUpload', 'creatingUser', 'bill'] | - |
| `/api/v1/app/{company}/property-management/finance/payment-vouchers` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Finance\PaymentVouchers\PaymentVoucherController@index` | [ 'id', 'status', 'payable_as', 'payable_user_id', 'created_at' ] | ['id', 'amount', 'paid_at', 'released_at', 'created_at'] | ['paymentVoucherItems'] | - |
| `/api/v1/app/{company}/property-management/finance/remittances` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Finance\Remittances\RemittanceController@index` | ['id', 'status', 'facility_id', 'landlord_id', 'period_from', 'period_to'] | ['id', 'period_from', 'period_to'] | ['collections', 'expenses'] | - |
| `/api/v1/app/{company}/property-management/finance/settlements` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Finance\Settlement\SettlementController@index` | ['id', 'status', 'debit_bank_account_id', 'created_at'] | ['id', 'created_at'] | ['paymentVouchers'] | - |
| `/api/v1/app/{company}/property-management/lease-management/lease-applications` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseApplications\LeaseApplicationController@index` | ['applicant_type', 'applicant_name', 'status', 'id', 'user_id'] | ['id', 'applicant_name', 'status'] | ['guarantors'] | - |
| `/api/v1/app/{company}/property-management/lease-management/credit-notes` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\Billing\CreditNoteController@index` | 'id', 'lease_id', 'invoice_id', 'credit_note_id', 'due_at', 'cu_reference_number', 'is_credit', 'paid', 'cu_invoice_number', 'status' | 'lease_id', 'invoice_id', 'credit_note_id', 'due_at', 'cu_reference_number', 'is_credit', 'paid', 'cu_invoice_number', 'status' | - | - |
| `/api/v1/app/{company}/property-management/lease-management/invoices` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\Billing\InvoiceController@index` | `lease_id`, `due_at`, `cu_reference_number`, `is_credit`, `paid`, `cu_invoice_number`, `cu_serial_number`, `id`, `status`, `user_id` (exact; mapped to `lease.user_id`) | `lease_id`, `due_at`, `cu_reference_number`, `is_credit`, `paid`, `cu_invoice_number`, `cu_serial_number` | - | - |
| `/api/v1/app/{company}/property-management/lease-management/leases/{lease}/billings` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\Billing\LeaseBillingController@index` | 'lease_id', 'invoice_id', 'lease_component_id', 'amount', 'tax', 'total', 'transaction_date' | 'lease_id', 'invoice_id', 'lease_component_id', 'amount', 'tax', 'total', 'transaction_date' | - | - |
| `/api/v1/app/{company}/property-management/lease-management/tenant-statements` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\Billing\TenantStatementController@index` | `tenant_id` (exact; mapped to `lease_id`) | - | - | - |
| `/api/v1/app/{company}/property-management/lease-management/leases/{lease}/collections` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\LeaseCollection\LeaseCollectionController@index` | ['id', 'lease_id', 'receipt_allocation_id', 'lease_item_component_id', 'amount', 'tax', 'total', 'transaction_date', 'invoice_item_id'] | ['id', 'lease_id', 'receipt_allocation_id', 'lease_item_component_id', 'amount', 'tax', 'total', 'transaction_date', 'invoice_item_id'] | - | - |
| `/api/v1/app/{company}/property-management/lease-management/leases` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\LeaseController@index` | 'user_id', 'status', 'created_at', 'start_at', 'end_at', 'next_due_at', 'billing_cycle' | 'user_id', 'status', 'created_at', 'start_at', 'end_at', 'next_due_at', 'billing_cycle' | - | - |
| `/api/v1/app/{company}/property-management/lease-management/leases/{lease}/deposits` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\LeaseDeposit\LeaseDepositController@index` | 'id', 'lease_item_component_id', 'created_at' | 'id', 'lease_item_component_id', 'created_at' | - | - |
| `/api/v1/app/{company}/property-management/lease-management/leases/{lease}/escalations` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\LeaseEscalation\LeaseEscalationController@index` | ['id', 'lease_id', 'lease_component_id', 'start_at', 'cycle', 'period', 'rate', 'next_due', 'created_at'] | ['id', 'lease_id', 'lease_component_id', 'start_at', 'cycle', 'period', 'rate', 'next_due', 'created_at'] | - | - |
| `/api/v1/app/{company}/property-management/lease-management/leases/{lease}/items/{leaseItem}/components` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\LeaseItem\LeaseItemComponentController@index` | ['lease_item_id', 'lease_component_id', 'cost_per_sqft', 'cost_per_month', 'tax_id', 'hs_code'] | ['lease_item_id', 'lease_component_id', 'cost_per_sqft', 'cost_per_month', 'tax_id', 'hs_code'] | - | ['id','lease_item_id', 'lease_component_id', 'cost_per_sqft', 'cost_per_month', 'tax_id', 'hs_code'] |
| `/api/v1/app/{company}/property-management/lease-management/leases/{lease}/items` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\LeaseItem\LeaseItemController@index` | ['lease_id', 'facility_space_id'] | ['lease_id', 'facility_space_id'] | - | - |
| `/api/v1/app/{company}/property-management/lease-management/leases/{lease}/opening-balances` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\LeaseOpeningBalance\LeaseOpeningBalanceController@index` | 'id', 'lease_component_id', 'opening_balance_at', 'created_at' | 'id', 'lease_component_id', 'opening_balance_at', 'created_at', 'amount', 'billed_amount' | - | - |
| `/api/v1/app/{company}/property-management/lease-management/receipts` | `App\Http\Controllers\Api\V1\App\PropertyManagement\LeaseManagement\Receipting\ReceiptController@index` | ['id', 'receiving_account_id', 'transaction_number', 'transaction_date', 'payment_method_id', 'paying_user_id', 'amount', 'allocated', 'balance', 'receiving_user_id'] | ['id', 'receiving_account_id', 'transaction_number', 'transaction_date', 'payment_method_id', 'paying_user_id', 'amount', 'allocated', 'balance', 'receiving_user_id'] | - | - |
| `/api/v1/app/{company}/property-management/procurement/contracts` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Procurement\Contract\ContractController@index` | [ 'id', 'title', 'status', 'start_at', 'end_at', 'created_at', 'facility_id', 'expense_type_id', 'expense_sub_type_id', 'asset_id' ] | ['id', 'title', 'status', 'start_at', 'end_at', 'created_at'] | ['bills'] | - |
| `/api/v1/app/{company}/property-management/procurement/inventories` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Procurement\Inventory\InventoryController@index` | [ 'facility_id', 'inventory_category_id', 'name', 'current_stock', 'storage_room_id', 'shelf_id' ] | - | - | - |
| `/api/v1/app/{company}/property-management/procurement/inventories/purchase-items` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Procurement\Inventory\PurchaseItemController@index` | [ 'id', 'inventory_category_id', 'name', 'currency_id', 'tax_id', 'base_price' ] | - | - | - |
| `/api/v1/app/{company}/property-management/procurement/lpos` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Procurement\LPO\ProcurementLpoController@index` | [ 'id', 'procurement_request_id', 'assigned_technician_id', 'created_at', 'delivery_at', 'delivered_at', 'rating' ] | ['id', 'created_at', 'amount', 'delivery_at'] | ['items'] | - |
| `/api/v1/app/{company}/property-management/procurement/requests` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Procurement\Request\ProcurementRequestController@index` | [ 'id', 'title', 'ticket_id', 'facility_id', 'asset_id', 'expense_type_id', 'expense_sub_type_id', 'created_at', 'priority', 'type' ] | ['id', 'title', 'type', 'created_at', 'priority'] | - | - |
| `/api/v1/app/{company}/property-management/procurement/requests/{procurementRequest}/items` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Procurement\Request\ProcurementRequestItemController@index` | ['id', 'inventory_id', 'quantity', 'selected_vendor_id'] | - | - | - |
| `/api/v1/app/{company}/property-management/settings/finance/banks/accounts` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Settings\Finance\Bank\BankAccountController@index` | ['type', 'account_name', 'account_number', 'status', 'user_group_id', 'user_id', 'bank_branch_id'] | ['id', 'account_name', 'status'] | ['userGroup', 'user', 'bankBranch'] | - |
| `/api/v1/app/{company}/property-management/settings/finance/expense-types` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Settings\Finance\ExpenseTypes\ExpenseTypeController@index` | [ 'id', 'name', 'description', 'expense_category_id', 'is_procurable', 'can_have_default_vendor', 'can_have_preferred_vendor', 'created_at' ] | - | ['expenseSubTypes'] | - |
| `/api/v1/app/{company}/property-management/settings/lease-management/payment-priorities` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Settings\LeaseManagement\LeaseComponentsPaymentPriorityController@index` | ['lease_component_id', 'facility_id'] | ['lease_component_id', 'facility_id'] | - | - |
| `/api/v1/app/{company}/property-management/settings/procurement/request-steps-template-groups` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Settings\Procurement\RequestStepTemplateGroupController@index` | ['description', 'title', 'created_at', 'is_default', 'facilities'] | - | - | - |
| `/api/v1/app/{company}/property-management/tickets` | `App\Http\Controllers\Api\V1\App\PropertyManagement\Ticket\TicketController@index` | ['id', 'title', 'facility_id', 'asset_id', 'ticket_category_id', 'status', 'priority', 'created_at'] | ['id', 'priority', 'created_at', 'status'] | - | - |
| `/api/v1/app/{company}/users/roles` | `App\Http\Controllers\Api\V1\App\Users\RoleController@index` | ['name', 'created_at', 'description', 'user_group_id'] | - | ['permissions'] | - |
| `/api/v1/app/{company}/users/user-groups` | `App\Http\Controllers\Api\V1\App\Users\UserGroupController@index` | ['id', 'title', 'description'] | - | ['users'] | - |
